# BEGIN WordPress
<IfModule mod_rewrite.c>

# ---------------------------------------------------------------------------
# Enable mod rewrite engine
# ---------------------------------------------------------------------------

RewriteEngine On

# ---------------------------------------------------------------------------
# Force/Non-force WWW with HTTPS support
# ---------------------------------------------------------------------------

# [Non-Force WWW]
RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
RewriteCond %{HTTP_HOST} ^www\.
RewriteCond %{HTTPS}s ^on(s)|off
RewriteCond http%1://%{HTTP_HOST} ^(https?://)(www\.)?(.+)$
RewriteRule ^ %1%3%{REQUEST_URI} [R=301,L]

# [Force WWW]
# RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
# RewriteCond %{HTTP_HOST} !=""
# RewriteCond %{HTTP_HOST} !^www\. [NC]
# RewriteCond %{HTTPS}s ^on(s)|
# RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

# ---------------------------------------------------------------------------
# Set base and prevents requests from being rewritten
# ---------------------------------------------------------------------------

RewriteBase /
RewriteRule ^index\.php$ - [L]

# ---------------------------------------------------------------------------
# Rewrite for localhost and production enviroments
# ---------------------------------------------------------------------------

# [Localhost]
RewriteCond %{HTTP_HOST} ^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /websitebase/wordpress/index.php [L]

# [Production]
RewriteCond %{HTTP_HOST} !^(1::|127\.0\.0\..*|192\.168\..*|localhost)$ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]

# ---------------------------------------------------------------------------

</IfModule>

# END WordPress